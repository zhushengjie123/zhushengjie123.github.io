(window.webpackJsonp=window.webpackJsonp||[]).push([[270],{600:function(t,s,a){"use strict";a.r(s);var e=a(3),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"全局api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#全局api"}},[t._v("#")]),t._v(" 全局API")]),t._v(" "),s("p",[t._v("常用全局API")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("全局API")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("createApp")]),t._v(" "),s("td",[t._v("应用上下文的应用实例")])]),t._v(" "),s("tr",[s("td",[t._v("h")]),t._v(" "),s("td",[t._v("虚拟节点")])]),t._v(" "),s("tr",[s("td",[t._v("defineComponent")]),t._v(" "),s("td",[t._v("具有组件选项的对象")])]),t._v(" "),s("tr",[s("td",[t._v("defineAsyncComponent")]),t._v(" "),s("td",[t._v("只有在需要时才会加载的异步组件")])]),t._v(" "),s("tr",[s("td",[t._v("defineCustomElement")]),t._v(" "),s("td",[t._v("返回一个原生的自定义元素")])]),t._v(" "),s("tr",[s("td",[t._v("createRenderer")]),t._v(" "),s("td",[t._v("自定义渲染器")])]),t._v(" "),s("tr",[s("td",[t._v("nextTick")]),t._v(" "),s("td",[t._v("DOM 更新回调")])]),t._v(" "),s("tr",[s("td",[t._v("useCssModule")]),t._v(" "),s("td",[t._v("允许在 setup 的单文件组件函数中访问 CSS 模块")])])])]),t._v(" "),s("h2",{attrs:{id:"全局api-createapp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#全局api-createapp"}},[t._v("#")]),t._v(" 全局API："),s("code",[t._v("createApp")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" createApp "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createApp")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("h3",{attrs:{id:"参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参数"}},[t._v("#")]),t._v(" 参数")]),t._v(" "),s("p",[t._v("该函数接收一个根组件选项对象作为第一个参数：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createApp")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("methods")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("computed")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("p",[t._v("Vue3 main.js中的 createApp")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createApp")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mount")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#app'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h3",{attrs:{id:"vue2-和-vue3-全局-api-的对比"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vue2-和-vue3-全局-api-的对比"}},[t._v("#")]),t._v(" "),s("code",[t._v("vue2")]),t._v(" 和 "),s("code",[t._v("vue3")]),t._v(" 全局 "),s("code",[t._v("API")]),t._v(" 的对比：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("2.x 全局 API")]),t._v(" "),s("th",[t._v("3.x 实例 API ("),s("code",[t._v("app")]),t._v(")")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Vue.config")]),t._v(" "),s("td",[t._v("app.config")]),t._v(" "),s("td",[t._v("每个 Vue 应用的配置项")])]),t._v(" "),s("tr",[s("td",[t._v("Vue.config.productionTip")]),t._v(" "),s("td",[s("em",[t._v("移除")])]),t._v(" "),s("td",[t._v("使用生产版本提示")])]),t._v(" "),s("tr",[s("td",[t._v("Vue.config.ignoredElements")]),t._v(" "),s("td",[t._v("app.config.compilerOptions.isCustomElement")]),t._v(" "),s("td",[t._v("指定方法识别 Vue 意外定义的自定义元素")])]),t._v(" "),s("tr",[s("td",[t._v("Vue.component")]),t._v(" "),s("td",[t._v("app.component")]),t._v(" "),s("td",[t._v("注册组件")])]),t._v(" "),s("tr",[s("td",[t._v("Vue.directive")]),t._v(" "),s("td",[t._v("app.directive")]),t._v(" "),s("td",[t._v("注册自定义指令")])]),t._v(" "),s("tr",[s("td",[t._v("Vue.mixin")]),t._v(" "),s("td",[t._v("app.mixin")]),t._v(" "),s("td",[t._v("混入（公共JS代码）")])]),t._v(" "),s("tr",[s("td",[t._v("Vue.use")]),t._v(" "),s("td",[t._v("app.use")]),t._v(" "),s("td",[t._v("插件的 install 调用")])]),t._v(" "),s("tr",[s("td",[t._v("Vue.prototype")]),t._v(" "),s("td",[t._v("app.config.globalProperties")]),t._v(" "),s("td",[t._v("任何组件实例中访问的全局 property")])]),t._v(" "),s("tr",[s("td",[t._v("Vue.extend")]),t._v(" "),s("td",[s("em",[t._v("移除")])]),t._v(" "),s("td",[t._v("构造函数的类，已被 createApp 功能替代")])]),t._v(" "),s("tr",[s("td",[t._v("-")]),t._v(" "),s("td",[t._v("app.provide")]),t._v(" "),s("td",[t._v("向下组件传递的值")])]),t._v(" "),s("tr",[s("td",[t._v("-")]),t._v(" "),s("td",[t._v("app.mount()")]),t._v(" "),s("td",[t._v("所提供的 DOM 元素渲染根组件")])]),t._v(" "),s("tr",[s("td",[t._v("-")]),t._v(" "),s("td",[t._v("app.unmount()")]),t._v(" "),s("td",[t._v("卸载所提供的 DOM 元素上应用了的根组件。")])]),t._v(" "),s("tr",[s("td",[t._v("-")]),t._v(" "),s("td",[t._v("app.version")]),t._v(" "),s("td",[t._v("以字符串形式提供已安装的 Vue 的版本号。")])])])]),t._v(" "),s("p",[t._v("所有其他不全局改变行为的全局 API 现在都是具名导出。")]),t._v(" "),s("h2",{attrs:{id:"全局-api-treeshaking-概念"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#全局-api-treeshaking-概念"}},[t._v("#")]),t._v(" 全局 API Treeshaking（概念）")]),t._v(" "),s("p",[t._v("如果模块打包工具支持 tree-shaking，则 Vue 应用中未使用的全局 API 将从最终的打包产物中排除，从而获得最佳的文件大小。")]),t._v(" "),s("p",[t._v("如果使用了 webpack 这样的模块打包工具，这可能会导致 Vue 的源代码输出打包到插件中，而通常情况下，这并不是你所期望的。为了防止发生这种情况，一种常见做法是配置模块打包工具以将 Vue 从最终的打包产物中排除。对于 webpack 来说，你可以使用 "),s("a",{attrs:{href:"https://webpack.js.org/configuration/externals/",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("externals")]),s("OutboundLink")],1),t._v(" 配置选项：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// webpack.config.js")]),t._v("\nmodule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*...*/")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("externals")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("vue")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Vue'")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("p",[t._v("这将告诉 webpack 将 Vue 模块视为一个外部库，而不将它打包进来。")])])}),[],!1,null,null,null);s.default=n.exports}}]);